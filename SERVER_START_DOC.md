# Minecraft Bedrock Edition (MCBE)
*This was written by me in different messages then regenerated by gpt to make this beautiful*

## Bedrock Protocol – Packet Overview & Practical Usage

This document provides a **high‑level but practical overview** of the Minecraft Bedrock Edition networking protocol, focused on **real server / proxy development**. It covers:

* Login & spawn flow
* World / chunk synchronization
* Inventory system packets
* Actor & player movement
* Messaging & UI packets

This is intended for developers new to MCBE internals, while still being accurate enough for real implementations.

---

## Login Process

The login sequence **must occur in order**. Deviating from this will cause disconnects or undefined client behavior.

### Login Flow

1. **C → S**: Request Network Settings
2. **S → C**: Network Settings
3. **C → S**: Login
4. **S → C**: Server To Client Handshake
5. **C → S**: Client To Server Handshake
6. **S → C**: Play Status *(Login Success)*

---

## Spawn / World Initialization Flow

After successful login, the following packets **must be sent in order** for the player to spawn:

1. **S → C**: Resource Packs Info
2. **C → S**: Resource Pack Client Response
3. **S → C**: Resource Pack Stack
4. **C → S**: Resource Pack Client Response
5. **S → C**: Start Game
6. **S → C**: Creative Content *(if applicable)*
7. **S → C**: Biome Definition List
8. **S → C**: Level Chunk(s)
9. **S → C**: Play Status *(Player Spawn)*

> **Note**: If no resource packs are used, you may send **Resource Pack Stack** directly after **Resource Packs Info** to skip client confirmations.

---

## World / Chunk Synchronization Packets

| Packet                                | Direction       | Purpose                               |
| ------------------------------------- | --------------- | ------------------------------------- |
| **LevelChunkPacket**                  | Server → Client | Sends chunk terrain & block data      |
| **UpdateBlockPacket**                 | Server → Client | Sends incremental block updates       |
| **NetworkChunkPublisherUpdatePacket** | Server → Client | Defines the chunk loading center      |
| **RequestChunkRadiusPacket**          | Client → Server | Client requests chunk render distance |
| **ChunkRadiusUpdatedPacket**          | Server → Client | Server confirms allowed chunk radius  |
| **ClientCacheBlobStatusPacket**       | Both            | Cache optimization support            |
| **ClientCacheMissResponsePacket**     | Server → Client | Sends missing cached blobs            |

These packets together control **chunk streaming**, **render distance**, and **bandwidth optimization**.

---

## Inventory System Packets

### Core Inventory Packets

```
InventoryContentPacket
  Usage: Sends full contents of an inventory window
  Direction: Server → Client
```

```
InventorySlotPacket
  Usage: Updates a single inventory slot
  Direction: Server → Client
```

```
InventoryTransactionPacket
  Usage: Client intent for inventory actions (move, drop, use, craft)
  Direction: Client → Server
```

```
MobEquipmentPacket
  Usage: Updates held item / hotbar selection
  Direction: Client → Server AND Server → Client
```

```
MobArmorEquipmentPacket
  Usage: Syncs armor slots
  Direction: Server → Client
```

---

### Creative & Crafting

```
CreativeContentPacket
  Usage: Sends full creative inventory
  Direction: Server → Client
```

```
CraftingDataPacket
  Usage: Sends all crafting recipes
  Direction: Server → Client
```

```
CraftingEventPacket
  Usage: Client crafts item (recipe execution)
  Direction: Client → Server
```

---

### Containers

```
ContainerOpenPacket
  Usage: Opens a container (chest, furnace, etc.)
  Direction: Server → Client
```

```
ContainerClosePacket
  Usage: Closes container window
  Direction: Client → Server
```

```
ContainerSetDataPacket
  Usage: Updates container metadata (furnace progress, brew time)
  Direction: Server → Client
```

---

### Misc Inventory‑Related Packets

```
PlayerHotbarPacket
  Usage: Syncs selected hotbar slot
  Direction: Server → Client
```

```
LevelSoundEventPacket
  Usage: Inventory‑related sounds (pickup, drop)
  Direction: Server → Client
```

```
TakeItemActorPacket
  Usage: Item entity picked up
  Direction: Server → Client
```

```
SetActorDataPacket
  Usage: Syncs inventory‑related entity metadata
  Direction: Server → Client
```

```
UpdateTradePacket
  Usage: Sends villager trading offers
  Direction: Server → Client
  Note: Optional unless vanilla parity is required
```

---

### Inventory Window IDs

```text
0 = Player Inventory
1 = Creative Inventory
2+ = Open Containers
```

These can be defined as constants or enums depending on your architecture.

---

## Actor & Player Motion

### SetActorMotionPacket

Used to **apply motion** to an entity or player.

Common use cases:

* Knockback
* Velocity changes
* Speed boosts
* External movement forces

```
SetActorMotionPacket
  Usage: Sets an actor's motion vector
  Direction: Server → Client
```

---

## Movement Packets (Important)

### MoveActorAbsolutePacket

**Primary movement packet** used by modern Bedrock servers.

* Used for actor movement updates
* Used for teleportation
* Used to sync player positions to other clients

```
MoveActorAbsolutePacket
  Usage: Move or teleport an actor/player
  Direction: Server → Client
```

---

### MovePlayerPacket (Legacy / Special Use)

* Originally used for client‑authoritative movement
* **No longer sent by vanilla clients**
* Replaced by `PlayerAuthInputPacket`

Valid server uses:

* Forcing a client to reposition
* Teleport requests

```
MovePlayerPacket
  Usage: Player movement update
  Direction: Server → Client

  Note: If received from client → invalid or hacked client
```

---

## Messaging & UI Packets

### TextPacket

Used for **chat messages**.

* Server → Client: send message
* Client → Server: player chat input

```
TextPacket
  Usage: Chat messaging
  Direction: Both
```

---

### SetTitlePacket

Used for **titles, subtitles, and actionbar messages**.

Supported operations:

* Set title
* Clear title
* Reset title
* Set subtitle
* Set actionbar
* Set animation times
* JSON‑based titles

```
SetTitlePacket
  Usage: Display titles, subtitles, actionbars
  Direction: Server → Client
```

---

## Recommended Reference Projects

These repositories are **highly recommended** for understanding real‑world Bedrock implementations:

* gophertunnel – [https://github.com/Sandertv/gophertunnel](https://github.com/Sandertv/gophertunnel)
* BedrockPowder (C++) – [https://github.com/BedrockPowder/BedrockPowder](https://github.com/BedrockPowder/BedrockPowder) *(older but useful)*
* bedrock‑protocol – [https://github.com/PrismarineJS/bedrock-protocol](https://github.com/PrismarineJS/bedrock-protocol)
* PMMP Protocol – [https://github.com/pmmp/BedrockProtocol](https://github.com/pmmp/BedrockProtocol)
* PMMP Data – [https://github.com/pmmp/BedrockData](https://github.com/pmmp/BedrockData)

### Official Documentation

* Mojang Bedrock Protocol Docs: [https://github.com/Mojang/bedrock-protocol-docs](https://github.com/Mojang/bedrock-protocol-docs)

### Wiki Resources

* Bedrock Servers: [https://wiki.bedrock.dev/servers/bedrock](https://wiki.bedrock.dev/servers/bedrock)
* RakNet: [https://wiki.bedrock.dev/servers/raknet](https://wiki.bedrock.dev/servers/raknet)
* NetherNet: [https://wiki.bedrock.dev/servers/nethernet](https://wiki.bedrock.dev/servers/nethernet)

---

## Final Notes

This document is **not exhaustive**, but it covers the **critical packet flow** required to:

* Log in players
* Spawn them correctly
* Sync worlds and inventories
* Handle modern server‑authoritative movement

Perfect as a starting reference for **custom servers, proxies, or protocol experiments**.
